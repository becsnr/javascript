<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        div {
            background-color: #3344b6;
            border-radius: 10px;
            text-align: center;
        }

        ul {
            text-align: center;
            width: 400px;
            padding: 0;
        }

        ul li {
            background-color: #5f57f7;
            list-style: none;
            padding: 10px;
            margin: 10px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            text-align: center;
        }

        .removeBtn {
            font-size: .6em;
            padding: 5px;
            display: flex;
            justify-content: flex-end;
        }
    </style>
</head>
<body>
    <!-- EXERCICIO 4 -- LISTA DE TAREFAS -->

    <input type="text" name="tarefa" id="tarefa">
    <button type="button" id="addBtn">Adicionar</button>
    <div id="container">
        <h2>Suas Tarefas</h2>
        <ul id="tarefasCards">
            
        </ul>
    </div>

    <script>
        const tarefaInput = document.getElementById('tarefa');
        const addBtn = document.getElementById('addBtn');
        const cardsContainer = document.getElementById('tarefasCards');

        const lista = JSON.parse(localStorage.getItem("tarefas")) || [];
        
        renderizar();

        addBtn.addEventListener("click", () => {
            const tarefa = tarefaInput.value.trim();

            if (tarefa === "") return;

            lista.push(tarefa);
            localStorage.setItem("tarefas", JSON.stringify(lista));
            
            renderizar();
            tarefaInput.value = "";
        });

        function criarCards(tarefa, index) {
            const card = document.createElement('li');
            card.classList.add('item');
            card.textContent = tarefa;

            const removeBtn = document.createElement('button');
            removeBtn.textContent = 'Remover';
            removeBtn.classList.add('removeBtn');

            removeBtn.addEventListener("click", () => {
                removerTarefa(index);
            });

            card.appendChild(removeBtn);
            cardsContainer.appendChild(card);
        };

        function renderizar() {
            cardsContainer.innerHTML = "";

            lista.forEach((tarefa, index) => {
                criarCards(tarefa, index);
            });
        };

        function removerTarefa(index) {
            lista.splice(index, 1);
            localStorage.setItem("tarefas", JSON.stringify(lista));
            renderizar();
        }
    </script>
</body>
</html>